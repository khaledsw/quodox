Popup_icon={htmlTag:{wrapper:".popup-icon-wrapper",iconPreview:"#iconPreview",btnSave:"#btnSave"},vars:{obj_Call:null,current_icon:""},init:function(a){Popup_icon.vars.obj_Call=null;Popup_icon.vars.current_icon="";if(a!=undefined){Popup_icon.vars.obj_Call=a;if(a.val()!=""){Popup_icon.vars.current_icon=a.val()}}jQuery.ajax({type:"POST",data:"action=popup_icon",url:g5plus_framework_meta.ajax_url,success:function(b){jQuery("body").append(b);Popup_icon.processButton();tb_position()},error:function(b){}})},processButton:function(){jQuery("#txtSearch",Popup_icon.htmlTag.wrapper).keyup(function(){var c=jQuery(this).val(),d=0;jQuery(".list-icon ul li a",Popup_icon.htmlTag.wrapper).each(function(){if(jQuery(this).attr("title").search(new RegExp(c,"i"))<0){jQuery(this).parent().fadeOut()}else{jQuery(this).parent().show();d++}})});jQuery(".list-icon ul li a",Popup_icon.htmlTag.wrapper).off("click").on("click",function(){var c=jQuery(this).attr("title");Popup_icon.vars.current_icon=c;Popup_icon.setPreview()});jQuery(Popup_icon.htmlTag.btnSave,Popup_icon.htmlTag.wrapper).off("click").on("click",function(){tb_remove();if(Popup_icon.vars.obj_Call!=null&&Popup_icon.vars.obj_Call!=undefined){Popup_icon.vars.obj_Call.val(Popup_icon.vars.current_icon);Popup_icon.vars.obj_Call.trigger("change")}});Popup_icon.setPreview();if(Popup_icon.vars.current_icon!=""){var b=jQuery('.list-icon ul li a[title="'+Popup_icon.vars.current_icon+'"]',Popup_icon.htmlTag.wrapper);if(b.length>0){b.addClass("active");var a=b.offset().top-jQuery(".list-icon",Popup_icon.htmlTag.wrapper).offset().top;jQuery(".list-icon",Popup_icon.htmlTag.wrapper).animate({scrollTop:a},1000)}}jQuery(".tb-close-icon").on("click",function(){Popup_icon.close()})},close:function(){jQuery("#g5plus-framework-popup-icon-wrapper").remove()},setPreview:function(){jQuery(".list-icon ul li a",Popup_icon.htmlTag.wrapper).removeClass("active");if(Popup_icon.vars.current_icon!=""){jQuery(Popup_icon.htmlTag.iconPreview+" i",Popup_icon.htmlTag.wrapper).attr("class",Popup_icon.vars.current_icon);jQuery(Popup_icon.htmlTag.iconPreview,Popup_icon.htmlTag.wrapper).prev("span").text(Popup_icon.vars.current_icon)}}};jQuery(document).ready(function(){setTimeout(function(){jQuery(document).on("click",".browse-icon",function(){var a=jQuery(this).prev("input");Popup_icon.init(a)});jQuery(document).on("change",".input-icon",function(){var a=jQuery(this).val();if(a!=""){jQuery(".icon-preview > i",jQuery(this).parent()).attr("class",a)}})},1000)});